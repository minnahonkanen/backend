{"version":3,"sources":["components/Add.js","components/Filter.js","components/Persons.js","components/Message.js","services/persons.js","App.js","index.js"],"names":["Add","props","onSubmit","submit","value","nameValue","onChange","nameChange","numberValue","numberChange","type","Filter","Persons","persons","click","map","person","className","key","id","name","number","onClick","Message","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setFilter","showAll","setShowAll","setMessage","newPersons","filter","toLowerCase","includes","personsToShow","useEffect","personService","initialPersons","createMessage","time","setTimeout","handleSetPersons","personObject","returnedPerson","concat","catch","error","handleAllreadyOnList","find","window","confirm","event","target","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ec273278.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Add = (props) => {\r\n    return (\r\n        <form onSubmit={props.submit}>\r\n            <div>\r\n                Name: <input value={props.nameValue} onChange={props.nameChange} />\r\n            </div>\r\n            <div>\r\n                Number: <input value={props.numberValue} onChange={props.numberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Add","import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            Filter with name: <input value={props.value} onChange={props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons = ({persons, click}) => {\r\n    const rows = () => persons.map(person => <li className=\"names\" key={person.id}>{person.name} {person.number} <button onClick={() => click(person.id)}>delete</button></li>)\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {rows()}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Message = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import axios from 'axios'\r\nconst baseUrl = 'https://pure-inlet-36646.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addNew = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject, id) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, addNew, update, remove}","import React, { useState, useEffect } from 'react'\r\nimport Add from './components/Add'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport Message from './components/Message'\r\nimport personService from './services/persons'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n\r\n    const [ persons, setPersons ] = useState([])\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ nameFilter, setFilter ] = useState('')\r\n    const [ showAll, setShowAll ] = useState(true)\r\n    const [ message, setMessage ] = useState('')\r\n\r\n    const newPersons = persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\r\n    const personsToShow = showAll ? persons : newPersons\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        persons.map(person => person.name).includes(newName) ? handleAllreadyOnList(personObject) : handleSetPersons(personObject)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n        persons !== newPersons ? setShowAll(false) : setShowAll(true)\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const createMessage = (message, time) => {\r\n        setMessage(message)\r\n        setTimeout(() => {\r\n            setMessage(null)\r\n        }, time)\r\n    }\r\n\r\n    const handleSetPersons = (personObject) => {\r\n        personService\r\n            .addNew(personObject)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.concat(returnedPerson))\r\n                createMessage(`${personObject.name} was added to phonebook`, 3000)\r\n                setNewName('')\r\n                setNewNumber('')\r\n            })\r\n            .catch(error => {\r\n                createMessage(`${personObject.name} was not added to phonebook`, 3000)\r\n            })\r\n    }\r\n\r\n    const handleAllreadyOnList = (personObject) => {\r\n        const person = persons.find(person => person.name === personObject.name)\r\n        const id = person.id\r\n        if (window.confirm(`${personObject.name} is already added to phonebook, do you want to replace the old number with the new one?`)) {\r\n            personService\r\n                .update(personObject, id)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n                    createMessage(`${person.name}'s number was updated`, 3000)\r\n                })\r\n                .catch(error => {\r\n                    createMessage(`Something went wrong with updating ${person.name}`, 3000)\r\n                })\r\n        }\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const deletePerson = (id) => {\r\n        const person = persons.find(person => person.id === id)\r\n        if (window.confirm(`Do you really want to delete ${person.name}?`)) {\r\n            personService\r\n            .remove(id)\r\n            .then(() => {\r\n                setPersons(persons.filter(person => person.id !== id))\r\n                createMessage(`${person.name} was deleted from phonebook`, 3000)\r\n            })\r\n            .catch(error => {\r\n                createMessage(`Something went wrong with deleting ${person.name}`, 3000)\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <div className=\"spot\"><Message message={message}/></div>\r\n            <h2>Phonebook</h2>\r\n            <Filter value={nameFilter} onChange={handleFilterChange}/>\r\n            <h3>Add a new contact</h3>\r\n            <Add nameValue={newName} numberValue={newNumber} nameChange={handleNameChange} numberChange={handleNumberChange} submit={addPerson}/>\r\n            <h3>Contacts:</h3>\r\n            <Persons persons={personsToShow} click={deletePerson}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}