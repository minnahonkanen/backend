{"version":3,"sources":["components/Add.js","components/Filter.js","components/Persons.js","components/Message.js","services/persons.js","App.js","index.js"],"names":["Add","props","onSubmit","submit","value","nameValue","onChange","nameChange","numberValue","numberChange","type","Filter","Persons","persons","click","map","person","className","key","id","name","number","onClick","Message","message","messageClass","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setFilter","showAll","setShowAll","setMessage","setMessageClass","newPersons","filter","toLowerCase","includes","personsToShow","useEffect","personService","initialPersons","createMessage","time","setTimeout","handleSetPersons","personObject","returnedPerson","concat","catch","error","handleAllreadyOnList","find","window","confirm","event","target","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.674bf015.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Add = (props) => {\r\n    return (\r\n        <form onSubmit={props.submit}>\r\n            <div>\r\n                Name: <input value={props.nameValue} onChange={props.nameChange} />\r\n            </div>\r\n            <div>\r\n                Number: <input value={props.numberValue} onChange={props.numberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Add","import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            Filter with name: <input value={props.value} onChange={props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons = ({persons, click}) => {\r\n    const rows = () => persons.map(person => <li className=\"names\" key={person.id}>{person.name} {person.number} <button onClick={() => click(person.id)}>delete</button></li>)\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {rows()}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Message = ({message, messageClass}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={messageClass}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addNew = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject, id) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, addNew, update, remove}","import React, { useState, useEffect } from 'react'\r\nimport Add from './components/Add'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport Message from './components/Message'\r\nimport personService from './services/persons'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n\r\n    const [ persons, setPersons ] = useState([])\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ nameFilter, setFilter ] = useState('')\r\n    const [ showAll, setShowAll ] = useState(true)\r\n    const [ message, setMessage ] = useState('')\r\n    const [ messageClass, setMessageClass ] = useState('')\r\n\r\n    const newPersons = persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\r\n    const personsToShow = showAll ? persons : newPersons\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        persons.map(person => person.name).includes(newName) ? handleAllreadyOnList(personObject) : handleSetPersons(personObject)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n        persons !== newPersons ? setShowAll(false) : setShowAll(true)\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const createMessage = (message, time) => {\r\n        setMessage(message)\r\n        setTimeout(() => {\r\n            setMessage(null)\r\n        }, time)\r\n    }\r\n\r\n    const handleSetPersons = (personObject) => {\r\n        personService\r\n            .addNew(personObject)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.concat(returnedPerson))\r\n                createMessage(`${personObject.name} was added to phonebook`, 3000)\r\n                setMessageClass('success')\r\n                setNewName('')\r\n                setNewNumber('')\r\n            })\r\n            .catch(error => {\r\n                createMessage(`${error.response.data.error}`, 3000)\r\n                setMessageClass('error')\r\n            })\r\n    }\r\n\r\n    const handleAllreadyOnList = (personObject) => {\r\n        const person = persons.find(person => person.name === personObject.name)\r\n        const id = person.id\r\n        if (window.confirm(`${personObject.name} is already added to phonebook, do you want to replace the old number with the new one?`)) {\r\n            personService\r\n                .update(personObject, id)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n                    createMessage(`${person.name}'s number was updated`, 3000)\r\n                    setMessageClass('success')\r\n                })\r\n                .catch(error => {\r\n                    createMessage(`Something went wrong with updating ${person.name}`, 3000)\r\n                    setMessageClass('error')\r\n                })\r\n        }\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const deletePerson = (id) => {\r\n        const person = persons.find(person => person.id === id)\r\n        if (window.confirm(`Do you really want to delete ${person.name}?`)) {\r\n            personService\r\n            .remove(id)\r\n            .then(() => {\r\n                setPersons(persons.filter(person => person.id !== id))\r\n                createMessage(`${person.name} was deleted from phonebook`, 3000)\r\n                setMessageClass('success')\r\n            })\r\n            .catch(error => {\r\n                createMessage(`Something went wrong with deleting ${person.name}`, 3000)\r\n                setMessageClass('error')\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <div className=\"phonebook\">\r\n                <h2>Phonebook</h2>\r\n                <Filter value={nameFilter} onChange={handleFilterChange}/>\r\n                <h3>Add a new contact</h3>\r\n                <Add nameValue={newName} numberValue={newNumber} nameChange={handleNameChange} numberChange={handleNumberChange} submit={addPerson}/>\r\n                <h3>Contacts:</h3>\r\n                <Persons persons={personsToShow} click={deletePerson}/>\r\n            </div>\r\n            <div className=\"spot\"><Message message={message} messageClass={messageClass}/></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}